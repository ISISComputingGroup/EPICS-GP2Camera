
record(waveform, "$(P)NSVDATA")
{
    field(DESC, "NSV")
    field(DTYP, "asynInt16ArrayIn")
	field(FTVL, "SHORT")
	field(NELM, 150000)
    field(INP,  "@asyn(gp2,0,0)NSVDATA")
    field(PREC, "3")
    field(SCAN, "I/O Intr")
	field(TSE, -2)
}

#record(waveform, "$(P)NSVDATA:SP")
#{
#    field(DESC, "NSV")
#    field(DTYP, "asynInt16ArrayOut")
#	field(FTVL, "SHORT")
#	field(NELM, 150000)
#    field(INP,  "@asyn(gp2,0,0)NSVDATA")
#    field(PREC, "3")
#}

#record(waveform, "$(P)DATA")
#{
#    field(DESC, "NSV")
#    field(DTYP, "asynInt16ArrayIn")
#	field(FTVL, "SHORT")
#	field(NELM, 150000)
#    field(INP,  "@asyn(nsv,0,0)DATA")
#    field(PREC, "3")
#    field(SCAN, "I/O Intr")
#	field(TSE, -2)
#}


record(longout, "$(P)SAVE:SP")
{
    field(DTYP, "asynInt32")
	field(UDFS, "NO_ALARM")
    field(OUT,  "@asyn(nsv,0,0)Save")
}

record(longin, "$(P)SAVE")
{
    field(DTYP, "asynInt32")
    field(INP,  "@asyn(nsv,0,0)Save")
    field(SCAN, "I/O Intr")
}

record(longout, "$(P)TRIGGERED:SP")
{
    field(DTYP, "asynInt32")
	field(UDFS, "NO_ALARM")
    field(OUT,  "@asyn(nsv,0,0)Triggered")
}

record(longin, "$(P)TRIGGERED")
{
    field(DTYP, "asynInt32")
    field(INP,  "@asyn(nsv,0,0)Triggered")
    field(SCAN, "I/O Intr")
}


record(waveform, "$(P)TESTFILENAME:SP")
{
    field(DESC, "NSV")
    field(DTYP, "asynOctetWrite")
	field(FTVL, "CHAR")
	field(NELM, 256)
    field(INP,  "@asyn(gp2,0,0)TESTFILENAME")
#	field(PINI, YES)
	info(archive, "VAL")
#    info(autosaveFields, "VAL")
}

record(waveform, "$(P)TESTFILENAME")
{
    field(DESC, "NSV")
    field(DTYP, "asynOctetRead")
	field(FTVL, "CHAR")
	field(NELM, 256)
    field(INP,  "@asyn(gp2,0,0)TESTFILENAME")
    field(SCAN, "I/O Intr")
	info(archive, "VAL")
}

record(waveform, "$(P)FILEPATH:SP")
{
    field(DESC, "NSV")
    field(DTYP, "asynOctetWrite")
	field(FTVL, "CHAR")
	field(NELM, 256)
	field(UDFS, "NO_ALARM")
    field(INP,  "@asyn(nsv,0,0)FILEPATH")
#	field(PINI, YES)
	info(archive, "VAL")
#    info(autosaveFields, "VAL")
}

record(waveform, "$(P)FILEPATH")
{
    field(DESC, "NSV")
    field(DTYP, "asynOctetRead")
	field(FTVL, "CHAR")
	field(NELM, 256)
    field(INP,  "@asyn(nsv,0,0)FILEPATH")
    field(SCAN, "I/O Intr")
	info(archive, "VAL")
}

record(waveform, "$(P)TRIMPATH:SP")
{
    field(DESC, "NSV")
    field(DTYP, "asynOctetWrite")
	field(FTVL, "CHAR")
	field(NELM, 256)
    field(INP,  "@asyn(nsv,0,0)TrimStringPath")
#	field(PINI, YES)
	field(UDFS, "NO_ALARM")
	info(archive, "VAL")
#    info(autosaveFields, "VAL")
}

record(waveform, "$(P)TRIMPATH")
{
    field(DESC, "NSV")
    field(DTYP, "asynOctetRead")
	field(FTVL, "CHAR")
	field(NELM, 256)
    field(INP,  "@asyn(nsv,0,0)TrimStringPath")
    field(SCAN, "I/O Intr")
	info(archive, "VAL")
}

record(mbbo, "$(P)COMMAND:SP")
{
    field(DTYP, "asynInt32")
    field(OUT,  "@asyn(nsv,0,0)COMMAND")
	field(UDFS, "NO_ALARM")
	field(ZRST, "Initialize")
	field(ZRVL, 0)
	field(ONST, "SendDACSettings")
	field(ONVL, 1)
	field(TWST, "GenerateTrimFile")
	field(TWVL, 2)
	field(THST, "ReadOutTemp")
	field(THVL, 3)
	field(FRST, "PrepFirmwareUpd")
	field(FRVL, 4)
	field(FVST, "Stop")
	field(FVVL, 5)
	field(SXST, "Exit")
	field(SXVL, 6)
	field(SVST, "---")
	field(SVVL, 7)
	field(EIST, "Start")
	field(EIVL, 8)
	field(NIST, "Setup")
	field(NIVL, 9)
	field(TEST, "Experimental")
	field(TEVL, 10)
	field(ELST, "ExpWithAgleRdout")
	field(ELVL, 11)
	field(TVST, "CalibSetup")
	field(TVVL, 12)
	field(TTST, "PrgPlmMSBiasDACs")
	field(TTVL, 13)
	field(FLNK, "$(P)_EXECUTE:SP")
	info(archive, "VAL")
}

record(mbbi, "$(P)COMMAND")
{
    field(DTYP, "asynInt32")
    field(INP,  "@asyn(nsv,0,0)COMMAND")
	field(ZRST, "Initialize")
	field(ZRVL, 0)
	field(ONST, "SendDACSettings")
	field(ONVL, 1)
	field(TWST, "GenerateTrimFile")
	field(TWVL, 2)
	field(THST, "ReadOutTemp")
	field(THVL, 3)
	field(FRST, "PrepFirmwareUpd")
	field(FRVL, 4)
	field(FVST, "Stop")
	field(FVVL, 5)
	field(SXST, "Exit")
	field(SXVL, 6)
	field(SVST, "---")
	field(SVVL, 7)
	field(EIST, "Start")
	field(EIVL, 8)
	field(NIST, "Setup")
	field(NIVL, 9)
	field(TEST, "Experimental")
	field(TEVL, 10)
	field(ELST, "ExpWithAgleRdout")
	field(ELVL, 11)
	field(TVST, "CalibSetup")
	field(TVVL, 12)
	field(TTST, "PrgPlmMSBiasDACs")
	field(TTVL, 13)
    field(SCAN, "I/O Intr")
}

record(sseq, "$(P)STARTUP:SP")
{
    field(DO1, "0")
    field(LNK1, "$(P)COMMAND:SP")
	field(DLY2, "5")
    field(DO2, "162")
    field(LNK2, "$(P)ICOMPTRIM:MSB:SP")
    field(DO3, "248")
    field(LNK3, "$(P)ICOMPTRIM:LSB:SP")
    field(DO4, "13")
    field(LNK4, "$(P)COMMAND:SP")
	field(DLY5, "1")
    field(DO5, "8")
    field(LNK5, "$(P)COMMAND:SP")
}

record(longin, "$(P)_EXECUTE:ONE")
{
    field(VAL, "1")
}

record(longout, "$(P)_EXECUTE:SP")
{
    field(DOL, "$(P)_EXECUTE:ONE")
	field(OMSL, "closed_loop")
    field(DTYP, "asynInt32")
    field(OUT,  "@asyn(nsv,0,0)EXECUTE")
}

record(longin, "$(P)_EXECUTE")
{
    field(DTYP, "asynInt32")
    field(INP,  "@asyn(nsv,0,0)EXECUTE")
    field(SCAN, "I/O Intr")
}

#record(ai, "$(P)INDICATOR")
#{
#    field(DTYP, "asynFloat64")
#    field(INP,  "@asyn(nsv,0,0)INDICATOR")
#    field(SCAN, "I/O Intr")#
#	field(PREC, 1)
#}

record(waveform, "$(P)TOF_HISTOGRAM")
{
    field(DTYP, "asynInt32ArrayIn")
	field(FTVL, "LONG")
	field(NELM, "4096")
    field(INP,  "@asyn(gp2,0,0)TOF_HISTOGRAM")
    field(SCAN, "I/O Intr")
}

record(longout, "$(P)TOF_BIN_VALUE:SP")
{
    field(DTYP, "asynInt32")
    field(OUT,  "@asyn(gp2,0,0)TOF_BIN_VALUE")
	field(DRVH, "4095")
	field(DRVL, "0")
	field(PINI, "YES")
    info(autosaveFields, "VAL")
}

record(longin, "$(P)TOF_BIN_VALUE")
{
    field(DTYP, "asynInt32")
    field(INP,  "@asyn(gp2,0,0)TOF_BIN_VALUE")
    field(SCAN, "I/O Intr")
}

record(longin, "$(P)TOF_BIN_SIZE")
{
    field(DTYP, "asynInt32")
    field(INP,  "@asyn(gp2,0,0)TOF_BIN_SIZE")
    field(SCAN, "I/O Intr")
}
