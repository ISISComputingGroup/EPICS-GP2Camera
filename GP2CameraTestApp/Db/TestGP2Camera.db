
record(waveform, "$(P)NSVDATA")
{
    field(DESC, "NSV")
    field(DTYP, "asynInt16ArrayIn")
	field(FTVL, "SHORT")
	field(NELM, 150000)
    field(INP,  "@asyn(gp2,0,0)NSVDATA")
    field(PREC, "3")
    field(SCAN, "I/O Intr")
	field(TSE, -2)
e}

#record(waveform, "$(P)NSVDATA:SP")
#{
#    field(DESC, "NSV")
#    field(DTYP, "asynInt16ArrayOut")
#	field(FTVL, "SHORT")
#	field(NELM, 150000)
#    field(INP,  "@asyn(gp2,0,0)NSVDATA")
#    field(PREC, "3")
#}

#record(waveform, "$(P)DATA")
#{
#    field(DESC, "NSV")
#    field(DTYP, "asynInt16ArrayIn")
#	field(FTVL, "SHORT")
#	field(NELM, 150000)
#    field(INP,  "@asyn(nsv,0,0)DATA")
#    field(PREC, "3")
#    field(SCAN, "I/O Intr")
#	field(TSE, -2)
#}

record(waveform, "$(P)TESTFILENAME:SP")
{
    field(DESC, "NSV")
    field(DTYP, "asynOctetWrite")
	field(FTVL, "CHAR")
	field(NELM, 256)
    field(INP,  "@asyn(gp2,0,0)TESTFILENAME")
#	field(PINI, YES)
	info(archive, "VAL")
#    info(autosaveFields, "VAL")
}

record(waveform, "$(P)TESTFILENAME")
{
    field(DESC, "NSV")
    field(DTYP, "asynOctetRead")
	field(FTVL, "CHAR")
	field(NELM, 256)
    field(INP,  "@asyn(gp2,0,0)TESTFILENAME")
    field(SCAN, "I/O Intr")
	info(archive, "VAL")
}

record(waveform, "$(P)FILEPATH:SP")
{
    field(DESC, "NSV")
    field(DTYP, "asynOctetWrite")
	field(FTVL, "CHAR")
	field(NELM, 256)
    field(INP,  "@asyn(nsv,0,0)FILEPATH")
#	field(PINI, YES)
	info(archive, "VAL")
#    info(autosaveFields, "VAL")
}

record(waveform, "$(P)FILEPATH")
{
    field(DESC, "NSV")
    field(DTYP, "asynOctetRead")
	field(FTVL, "CHAR")
	field(NELM, 256)
    field(INP,  "@asyn(nsv,0,0)FILEPATH")
    field(SCAN, "I/O Intr")
	info(archive, "VAL")
}

record(mbbo, "$(P)COMMAND:SP")
{
    field(DTYP, "asynInt32")
    field(OUT,  "@asyn(nsv,0,0)COMMAND")
	field(ZRST, "Initialize")
	field(ZRVL, 0)
	field(ONST, "SendDACSettings")
	field(ONVL, 1)
	field(TWST, "GenerateTrimFile")
	field(TWVL, 2)
	field(THST, "ReadOutTemp")
	field(THVL, 3)
	field(FRST, "PrepFirmwareUpd")
	field(FRVL, 4)
	field(FVST, "Stop")
	field(FVVL, 5)
	field(SXST, "Exit")
	field(SXVL, 6)
	field(SVST, "---")
	field(SVVL, 7)
	field(EIST, "Start")
	field(EIVL, 8)
	field(NIST, "Setup")
	field(NIVL, 9)
	field(TEST, "Experimental")
	field(TEVL, 10)
	field(ELST, "ExpWithAgleRdout")
	field(ELVL, 11)
	field(TVST, "CalibSetup")
	field(TVVL, 12)
	field(TTST, "PrgPlmMSBiasDACs")
	field(TTVL, 13)
	field(FLNK, "$(P)_EXECUTE:SP")
	info(archive, "VAL")
}

record(mbbi, "$(P)COMMAND")
{
    field(DTYP, "asynInt32")
    field(INP,  "@asyn(nsv,0,0)COMMAND")
	field(ZRST, "Initialize")
	field(ZRVL, 0)
	field(ONST, "SendDACSettings")
	field(ONVL, 1)
	field(TWST, "GenerateTrimFile")
	field(TWVL, 2)
	field(THST, "ReadOutTemp")
	field(THVL, 3)
	field(FRST, "PrepFirmwareUpd")
	field(FRVL, 4)
	field(FVST, "Stop")
	field(FVVL, 5)
	field(SXST, "Exit")
	field(SXVL, 6)
	field(SVST, "---")
	field(SVVL, 7)
	field(EIST, "Start")
	field(EIVL, 8)
	field(NIST, "Setup")
	field(NIVL, 9)
	field(TEST, "Experimental")
	field(TEVL, 10)
	field(ELST, "ExpWithAgleRdout")
	field(ELVL, 11)
	field(TVST, "CalibSetup")
	field(TVVL, 12)
	field(TTST, "PrgPlmMSBiasDACs")
	field(TTVL, 13)
    field(SCAN, "I/O Intr")
}

record(longin, "$(P)_EXECUTE:ONE")
{
    field(VAL, "1")
}

record(longout, "$(P)_EXECUTE:SP")
{
    field(DOL, "$(P)_EXECUTE:ONE")
	field(OMSL, "closed_loop")
    field(DTYP, "asynInt32")
    field(OUT,  "@asyn(nsv,0,0)EXECUTE")
}

record(longin, "$(P)_EXECUTE")
{
    field(DTYP, "asynInt32")
    field(INP,  "@asyn(nsv,0,0)EXECUTE")
    field(SCAN, "I/O Intr")
}

#record(ai, "$(P)INDICATOR")
#{
#    field(DTYP, "asynFloat64")
#    field(INP,  "@asyn(nsv,0,0)INDICATOR")
#    field(SCAN, "I/O Intr")#
#	field(PREC, 1)
#}
